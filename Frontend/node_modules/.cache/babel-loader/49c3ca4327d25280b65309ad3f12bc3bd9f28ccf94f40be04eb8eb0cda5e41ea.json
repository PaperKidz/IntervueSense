{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tilak Gupta\\\\IntervueSense\\\\Frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Camera, AlertCircle, Sparkles, Users, Smile, Activity } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmotionDetectionApp() {\n  _s();\n  var _videoRef$current;\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [emotionData, setEmotionData] = useState(null);\n  const [smoothedEmotions, setSmoothedEmotions] = useState(null);\n  const [error, setError] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [apiStatus, setApiStatus] = useState('checking');\n  const [lastAnalysisTime, setLastAnalysisTime] = useState(null);\n  const [analysisCount, setAnalysisCount] = useState(0);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const streamRef = useRef(null);\n  const intervalRef = useRef(null);\n  const emotionHistoryRef = useRef([]);\n  const emotionColors = {\n    happy: '#10B981',\n    sad: '#3B82F6',\n    angry: '#EF4444',\n    surprise: '#F59E0B',\n    fear: '#8B5CF6',\n    disgust: '#06B6D4',\n    neutral: '#9CA3AF'\n  };\n  useEffect(() => {\n    checkApiHealth();\n    return () => {\n      stopWebcam();\n    };\n  }, []);\n  const checkApiHealth = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/health', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        await response.json();\n        setApiStatus('connected');\n      } else {\n        setApiStatus('error');\n      }\n    } catch (err) {\n      setApiStatus('error');\n      setError('Cannot connect to backend API. Make sure Flask server is running on port 5000.');\n    }\n  };\n  const startWebcam = async () => {\n    try {\n      setError(null);\n      setAnalysisCount(0);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 640\n          },\n          height: {\n            ideal: 480\n          },\n          facingMode: 'user'\n        }\n      });\n      streamRef.current = stream;\n      const video = videoRef.current;\n      video.srcObject = stream;\n      await new Promise((resolve, reject) => {\n        video.onloadedmetadata = resolve;\n        video.onerror = reject;\n        setTimeout(() => reject(new Error('Timeout waiting for video')), 5000);\n      });\n      await video.play();\n      setIsStreaming(true);\n      setTimeout(() => {\n        if (!streamRef.current) return;\n        const runContinuousAnalysis = async () => {\n          while (streamRef.current) {\n            await captureAndAnalyze();\n            await new Promise(resolve => setTimeout(resolve, 500));\n          }\n        };\n        runContinuousAnalysis();\n      }, 1500);\n    } catch (err) {\n      setError('Failed to start webcam: ' + err.message);\n      stopWebcam();\n    }\n  };\n  const stopWebcam = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n    if (videoRef.current) {\n      videoRef.current.srcObject = null;\n      videoRef.current.load();\n    }\n    emotionHistoryRef.current = [];\n    setIsStreaming(false);\n    setEmotionData(null);\n    setSmoothedEmotions(null);\n    setAnalysisCount(0);\n    setIsAnalyzing(false);\n  };\n  const smoothEmotions = newEmotions => {\n    const historyLength = 5;\n    emotionHistoryRef.current.push(newEmotions);\n    if (emotionHistoryRef.current.length > historyLength) {\n      emotionHistoryRef.current.shift();\n    }\n    const averaged = {};\n    const emotionKeys = Object.keys(newEmotions);\n    emotionKeys.forEach(emotion => {\n      const sum = emotionHistoryRef.current.reduce((acc, curr) => acc + (curr[emotion] || 0), 0);\n      averaged[emotion] = sum / emotionHistoryRef.current.length;\n    });\n    return averaged;\n  };\n  const captureAndAnalyze = async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    if (!streamRef.current) return;\n    if (isAnalyzing) return;\n    if (videoRef.current.readyState !== 4) return;\n    setIsAnalyzing(true);\n    const startTime = Date.now();\n    const currentCount = analysisCount + 1;\n    setAnalysisCount(currentCount);\n    try {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      const context = canvas.getContext('2d');\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n      const imageData = canvas.toDataURL('image/jpeg', 0.95);\n      const response = await fetch('http://localhost:5000/api/analyze-emotion', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          image: imageData\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n      const analysisTime = Date.now() - startTime;\n      if (data.success) {\n        setEmotionData(data);\n        const smoothed = smoothEmotions(data.emotions);\n        const dominantEmotion = Object.entries(smoothed).reduce((a, b) => smoothed[a[0]] > smoothed[b[0]] ? a : b)[0];\n        setSmoothedEmotions({\n          emotions: smoothed,\n          dominant_emotion: dominantEmotion,\n          face_count: data.face_count,\n          faces: data.faces\n        });\n        setError(null);\n        setLastAnalysisTime(analysisTime);\n      } else {\n        if (!emotionData) {\n          setError(data.error || 'No face detected');\n        }\n      }\n    } catch (err) {\n      if (!emotionData) {\n        setError('API error: ' + err.message);\n      }\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  const displayData = smoothedEmotions || emotionData;\n  const dominantColor = displayData !== null && displayData !== void 0 && displayData.dominant_emotion ? emotionColors[displayData.dominant_emotion.toLowerCase()] || '#9CA3AF' : '#9CA3AF';\n  const calculateMetrics = () => {\n    if (!(displayData !== null && displayData !== void 0 && displayData.emotions)) return {\n      confidence: 0,\n      nervousness: 0\n    };\n    const e = displayData.emotions;\n    const positive = (e.happy || 0) + (e.neutral || 0);\n    const negative = (e.fear || 0) + (e.sad || 0) + (e.angry || 0) + (e.disgust || 0);\n    const confidence = Math.max(0, Math.min(100, positive - negative * 0.5));\n    const nervousness = Math.max(0, Math.min(100, negative * 0.6));\n    return {\n      confidence,\n      nervousness\n    };\n  };\n  const metrics = calculateMetrics();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-4 md:p-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n            className: \"w-8 h-8 text-yellow-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl md:text-4xl font-bold\",\n            children: \"Intervuesense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Sparkles, {\n            className: \"w-8 h-8 text-yellow-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300\",\n          children: \"Real-time facial emotion recognition using AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 flex items-center justify-center gap-4 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-3 h-3 rounded-full ${apiStatus === 'connected' ? 'bg-green-500' : apiStatus === 'error' ? 'bg-red-500' : 'bg-yellow-500'} animate-pulse`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: apiStatus === 'connected' ? 'API Connected' : apiStatus === 'error' ? 'API Disconnected' : 'Checking API...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), isStreaming && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-3 h-3 rounded-full bg-blue-500 animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-blue-300\",\n            children: \"Live Detection Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), analysisCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Activity, {\n            className: \"w-4 h-4 text-blue-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-300\",\n            children: [analysisCount, \" analyses\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), lastAnalysisTime && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-400\",\n          children: [lastAnalysisTime, \"ms\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-black/40 backdrop-blur-sm rounded-2xl p-4 md:p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative bg-gray-900 rounded-lg overflow-hidden mb-4\",\n              style: {\n                paddingBottom: '75%'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                  ref: videoRef,\n                  autoPlay: true,\n                  playsInline: true,\n                  muted: true,\n                  className: \"absolute inset-0 w-full h-full object-cover\",\n                  style: {\n                    transform: 'scaleX(-1)',\n                    backgroundColor: '#000',\n                    display: isStreaming ? 'block' : 'none'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), !isStreaming && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col items-center justify-center h-full\",\n                  children: [/*#__PURE__*/_jsxDEV(Camera, {\n                    className: \"w-20 h-20 text-gray-500 mb-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-400\",\n                    children: \"Click Start to begin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this), isStreaming && ((_videoRef$current = videoRef.current) === null || _videoRef$current === void 0 ? void 0 : _videoRef$current.readyState) !== 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 flex items-center justify-center bg-black/70 z-10\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-white\",\n                      children: \"Initializing camera...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this), isAnalyzing && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full text-xs z-20 animate-pulse flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-white rounded-full animate-ping\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 23\n                  }, this), \"Analyzing...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this), isStreaming && displayData && displayData.faces && displayData.faces.map((face, idx) => {\n                  var _videoRef$current2, _videoRef$current3;\n                  const videoWidth = ((_videoRef$current2 = videoRef.current) === null || _videoRef$current2 === void 0 ? void 0 : _videoRef$current2.videoWidth) || 640;\n                  const videoHeight = ((_videoRef$current3 = videoRef.current) === null || _videoRef$current3 === void 0 ? void 0 : _videoRef$current3.videoHeight) || 480;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute border-4 rounded transition-all duration-300 z-10\",\n                    style: {\n                      left: `${100 - (face.x + face.width) / videoWidth * 100}%`,\n                      top: `${face.y / videoHeight * 100}%`,\n                      width: `${face.width / videoWidth * 100}%`,\n                      height: `${face.height / videoHeight * 100}%`,\n                      borderColor: dominantColor,\n                      boxShadow: `0 0 20px ${dominantColor}`\n                    }\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 23\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: canvasRef,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: !isStreaming ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startWebcam,\n                disabled: apiStatus === 'error',\n                className: \"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-6 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Camera, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 21\n                }, this), \"Start Detection\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopWebcam,\n                className: \"flex-1 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 px-6 py-3 rounded-lg font-semibold transition-all\",\n                children: \"Stop Detection\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 bg-red-500/20 border border-red-500 rounded-lg p-4 flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-200\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Smile, {\n                className: \"w-6 h-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), \"Current Emotion\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), displayData ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-4xl md:text-5xl font-bold mb-2 animate-pulse\",\n                style: {\n                  color: dominantColor\n                },\n                children: displayData.dominant_emotion.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center gap-2 text-gray-400\",\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [displayData.face_count, \" face(s) detected\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-gray-400 py-8\",\n              children: [/*#__PURE__*/_jsxDEV(Smile, {\n                className: \"w-12 h-12 mx-auto mb-2 opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Waiting for detection...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold mb-4\",\n              children: \"Confidence & Nervousness\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), displayData ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-sm mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-2xl\",\n                      children: \"\\uD83D\\uDCAA\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: \"Confidence\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold text-green-400\",\n                    children: [metrics.confidence.toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-700 rounded-full h-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-3 rounded-full transition-all duration-500 bg-gradient-to-r from-green-400 to-emerald-500\",\n                    style: {\n                      width: `${metrics.confidence}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-sm mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-2xl\",\n                      children: \"\\uD83D\\uDE30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold\",\n                      children: \"Nervousness\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold text-orange-400\",\n                    children: [metrics.nervousness.toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-700 rounded-full h-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-3 rounded-full transition-all duration-500 bg-gradient-to-r from-orange-400 to-red-500\",\n                    style: {\n                      width: `${metrics.nervousness}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-gray-400 py-8\",\n              children: [/*#__PURE__*/_jsxDEV(Activity, {\n                className: \"w-12 h-12 mx-auto mb-2 opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Start webcam to see metrics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold mb-4\",\n              children: \"Emotion Scores\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this), displayData && displayData.emotions ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: Object.entries(displayData.emotions).sort(([, a], [, b]) => b - a).map(([emotion, score]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-sm mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"capitalize\",\n                    children: emotion\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [score.toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-700 rounded-full h-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 rounded-full transition-all duration-500\",\n                    style: {\n                      width: `${score}%`,\n                      backgroundColor: emotionColors[emotion] || '#9CA3AF'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 25\n                }, this)]\n              }, emotion, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-gray-400 py-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-12 h-12 mx-auto mb-2 border-4 border-gray-600 border-t-gray-400 rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Start webcam to see scores\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-white/10\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-3\",\n          children: \"How It Works:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc list-inside space-y-2 text-gray-300 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Start Detection:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this), \" Click \\\"Start Detection\\\" button and allow camera permissions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Real-time Analysis:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this), \" Emotions detected continuously with 5-frame averaging for stability\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Live Updates:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), \" Smoothed emotion display reduces jitter and improves accuracy\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Best Results:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), \" Face the camera directly with good lighting\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Performance:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this), \" Analysis runs 2 times per second for optimal accuracy\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Confidence & Nervousness:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), \" Real-time metrics calculated from your emotional state\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Multiple Emotions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), \" The system detects 7 emotions: happy, sad, angry, surprise, fear, disgust, and neutral\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n}\n_s(EmotionDetectionApp, \"cjoBYV+eUANdgSkJX9agLiYfxd0=\");\n_c = EmotionDetectionApp;\nvar _c;\n$RefreshReg$(_c, \"EmotionDetectionApp\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Camera","AlertCircle","Sparkles","Users","Smile","Activity","jsxDEV","_jsxDEV","EmotionDetectionApp","_s","_videoRef$current","isStreaming","setIsStreaming","emotionData","setEmotionData","smoothedEmotions","setSmoothedEmotions","error","setError","isAnalyzing","setIsAnalyzing","apiStatus","setApiStatus","lastAnalysisTime","setLastAnalysisTime","analysisCount","setAnalysisCount","videoRef","canvasRef","streamRef","intervalRef","emotionHistoryRef","emotionColors","happy","sad","angry","surprise","fear","disgust","neutral","checkApiHealth","stopWebcam","response","fetch","method","headers","ok","json","err","startWebcam","stream","navigator","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","current","srcObject","Promise","resolve","reject","onloadedmetadata","onerror","setTimeout","Error","play","runContinuousAnalysis","captureAndAnalyze","message","getTracks","forEach","track","stop","clearInterval","load","smoothEmotions","newEmotions","historyLength","push","length","shift","averaged","emotionKeys","Object","keys","emotion","sum","reduce","acc","curr","readyState","startTime","Date","now","currentCount","canvas","context","getContext","videoWidth","videoHeight","drawImage","imageData","toDataURL","body","JSON","stringify","image","status","statusText","data","analysisTime","success","smoothed","emotions","dominantEmotion","entries","a","b","dominant_emotion","face_count","faces","displayData","dominantColor","toLowerCase","calculateMetrics","confidence","nervousness","e","positive","negative","Math","max","min","metrics","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","paddingBottom","ref","autoPlay","playsInline","muted","transform","backgroundColor","display","map","face","idx","_videoRef$current2","_videoRef$current3","left","x","top","y","borderColor","boxShadow","onClick","disabled","color","toUpperCase","toFixed","sort","score","_c","$RefreshReg$"],"sources":["C:/Users/Tilak Gupta/IntervueSense/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Camera, AlertCircle, Sparkles, Users, Smile, Activity } from 'lucide-react';\r\n\r\nexport default function EmotionDetectionApp() {\r\n  const [isStreaming, setIsStreaming] = useState(false);\r\n  const [emotionData, setEmotionData] = useState(null);\r\n  const [smoothedEmotions, setSmoothedEmotions] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [apiStatus, setApiStatus] = useState('checking');\r\n  const [lastAnalysisTime, setLastAnalysisTime] = useState(null);\r\n  const [analysisCount, setAnalysisCount] = useState(0);\r\n  \r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const streamRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n  const emotionHistoryRef = useRef([]);\r\n\r\n  const emotionColors = {\r\n    happy: '#10B981',\r\n    sad: '#3B82F6',\r\n    angry: '#EF4444',\r\n    surprise: '#F59E0B',\r\n    fear: '#8B5CF6',\r\n    disgust: '#06B6D4',\r\n    neutral: '#9CA3AF'\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkApiHealth();\r\n    return () => {\r\n      stopWebcam();\r\n    };\r\n  }, []);\r\n\r\n  const checkApiHealth = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/health', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      \r\n      if (response.ok) {\r\n        await response.json();\r\n        setApiStatus('connected');\r\n      } else {\r\n        setApiStatus('error');\r\n      }\r\n    } catch (err) {\r\n      setApiStatus('error');\r\n      setError('Cannot connect to backend API. Make sure Flask server is running on port 5000.');\r\n    }\r\n  };\r\n\r\n  const startWebcam = async () => {\r\n    try {\r\n      setError(null);\r\n      setAnalysisCount(0);\r\n      \r\n      const stream = await navigator.mediaDevices.getUserMedia({ \r\n        video: { \r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 },\r\n          facingMode: 'user'\r\n        } \r\n      });\r\n      \r\n      streamRef.current = stream;\r\n      const video = videoRef.current;\r\n      video.srcObject = stream;\r\n      \r\n      await new Promise((resolve, reject) => {\r\n        video.onloadedmetadata = resolve;\r\n        video.onerror = reject;\r\n        setTimeout(() => reject(new Error('Timeout waiting for video')), 5000);\r\n      });\r\n      \r\n      await video.play();\r\n      setIsStreaming(true);\r\n      \r\n      setTimeout(() => {\r\n        if (!streamRef.current) return;\r\n        \r\n        const runContinuousAnalysis = async () => {\r\n          while (streamRef.current) {\r\n            await captureAndAnalyze();\r\n            await new Promise(resolve => setTimeout(resolve, 500));\r\n          }\r\n        };\r\n        \r\n        runContinuousAnalysis();\r\n      }, 1500);\r\n      \r\n    } catch (err) {\r\n      setError('Failed to start webcam: ' + err.message);\r\n      stopWebcam();\r\n    }\r\n  };\r\n\r\n  const stopWebcam = () => {\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop());\r\n      streamRef.current = null;\r\n    }\r\n    \r\n    if (intervalRef.current) {\r\n      clearInterval(intervalRef.current);\r\n      intervalRef.current = null;\r\n    }\r\n    \r\n    if (videoRef.current) {\r\n      videoRef.current.srcObject = null;\r\n      videoRef.current.load();\r\n    }\r\n    \r\n    emotionHistoryRef.current = [];\r\n    setIsStreaming(false);\r\n    setEmotionData(null);\r\n    setSmoothedEmotions(null);\r\n    setAnalysisCount(0);\r\n    setIsAnalyzing(false);\r\n  };\r\n\r\n  const smoothEmotions = (newEmotions) => {\r\n    const historyLength = 5;\r\n    emotionHistoryRef.current.push(newEmotions);\r\n    \r\n    if (emotionHistoryRef.current.length > historyLength) {\r\n      emotionHistoryRef.current.shift();\r\n    }\r\n    \r\n    const averaged = {};\r\n    const emotionKeys = Object.keys(newEmotions);\r\n    \r\n    emotionKeys.forEach(emotion => {\r\n      const sum = emotionHistoryRef.current.reduce((acc, curr) => acc + (curr[emotion] || 0), 0);\r\n      averaged[emotion] = sum / emotionHistoryRef.current.length;\r\n    });\r\n    \r\n    return averaged;\r\n  };\r\n\r\n  const captureAndAnalyze = async () => {\r\n    if (!videoRef.current || !canvasRef.current) return;\r\n    if (!streamRef.current) return;\r\n    if (isAnalyzing) return;\r\n    if (videoRef.current.readyState !== 4) return;\r\n    \r\n    setIsAnalyzing(true);\r\n    const startTime = Date.now();\r\n    const currentCount = analysisCount + 1;\r\n    setAnalysisCount(currentCount);\r\n    \r\n    try {\r\n      const video = videoRef.current;\r\n      const canvas = canvasRef.current;\r\n      const context = canvas.getContext('2d');\r\n      \r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n      \r\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n      \r\n      const imageData = canvas.toDataURL('image/jpeg', 0.95);\r\n      \r\n      const response = await fetch('http://localhost:5000/api/analyze-emotion', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ image: imageData }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      const analysisTime = Date.now() - startTime;\r\n      \r\n      if (data.success) {\r\n        setEmotionData(data);\r\n        \r\n        const smoothed = smoothEmotions(data.emotions);\r\n        const dominantEmotion = Object.entries(smoothed).reduce((a, b) => \r\n          smoothed[a[0]] > smoothed[b[0]] ? a : b\r\n        )[0];\r\n        \r\n        setSmoothedEmotions({\r\n          emotions: smoothed,\r\n          dominant_emotion: dominantEmotion,\r\n          face_count: data.face_count,\r\n          faces: data.faces\r\n        });\r\n        \r\n        setError(null);\r\n        setLastAnalysisTime(analysisTime);\r\n      } else {\r\n        if (!emotionData) {\r\n          setError(data.error || 'No face detected');\r\n        }\r\n      }\r\n    } catch (err) {\r\n      if (!emotionData) {\r\n        setError('API error: ' + err.message);\r\n      }\r\n    } finally {\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const displayData = smoothedEmotions || emotionData;\r\n  \r\n  const dominantColor = displayData?.dominant_emotion \r\n    ? emotionColors[displayData.dominant_emotion.toLowerCase()] || '#9CA3AF'\r\n    : '#9CA3AF';\r\n\r\n  const calculateMetrics = () => {\r\n    if (!displayData?.emotions) return { confidence: 0, nervousness: 0 };\r\n    \r\n    const e = displayData.emotions;\r\n    const positive = (e.happy || 0) + (e.neutral || 0);\r\n    const negative = (e.fear || 0) + (e.sad || 0) + (e.angry || 0) + (e.disgust || 0);\r\n    \r\n    const confidence = Math.max(0, Math.min(100, positive - (negative * 0.5)));\r\n    const nervousness = Math.max(0, Math.min(100, negative * 0.6));\r\n    \r\n    return { confidence, nervousness };\r\n  };\r\n\r\n  const metrics = calculateMetrics();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-4 md:p-8\">\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <div className=\"text-center mb-6\">\r\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\r\n            <Sparkles className=\"w-8 h-8 text-yellow-400\" />\r\n            <h1 className=\"text-3xl md:text-4xl font-bold\">Intervuesense</h1>\r\n            <Sparkles className=\"w-8 h-8 text-yellow-400\" />\r\n          </div>\r\n          <p className=\"text-gray-300\">Real-time facial emotion recognition using AI</p>\r\n        </div>\r\n\r\n        <div className=\"mb-4 flex items-center justify-center gap-4 flex-wrap\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className={`w-3 h-3 rounded-full ${\r\n              apiStatus === 'connected' ? 'bg-green-500' : \r\n              apiStatus === 'error' ? 'bg-red-500' : \r\n              'bg-yellow-500'\r\n            } animate-pulse`}></div>\r\n            <span className=\"text-sm\">\r\n              {apiStatus === 'connected' ? 'API Connected' : \r\n               apiStatus === 'error' ? 'API Disconnected' : \r\n               'Checking API...'}\r\n            </span>\r\n          </div>\r\n          {isStreaming && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-3 h-3 rounded-full bg-blue-500 animate-pulse\"></div>\r\n              <span className=\"text-sm text-blue-300\">Live Detection Active</span>\r\n            </div>\r\n          )}\r\n          {analysisCount > 0 && (\r\n            <div className=\"flex items-center gap-2\">\r\n              <Activity className=\"w-4 h-4 text-blue-400\" />\r\n              <span className=\"text-sm text-gray-300\">\r\n                {analysisCount} analyses\r\n              </span>\r\n            </div>\r\n          )}\r\n          {lastAnalysisTime && (\r\n            <span className=\"text-xs text-gray-400\">\r\n              {lastAnalysisTime}ms\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          <div className=\"lg:col-span-2\">\r\n            <div className=\"bg-black/40 backdrop-blur-sm rounded-2xl p-4 md:p-6 border border-white/10\">\r\n              <div className=\"relative bg-gray-900 rounded-lg overflow-hidden mb-4\" style={{ paddingBottom: '75%' }}>\r\n                <div className=\"absolute inset-0\">\r\n                  <video\r\n                    ref={videoRef}\r\n                    autoPlay\r\n                    playsInline\r\n                    muted\r\n                    className=\"absolute inset-0 w-full h-full object-cover\"\r\n                    style={{ \r\n                      transform: 'scaleX(-1)',\r\n                      backgroundColor: '#000',\r\n                      display: isStreaming ? 'block' : 'none'\r\n                    }}\r\n                  />\r\n                  \r\n                  {!isStreaming && (\r\n                    <div className=\"flex flex-col items-center justify-center h-full\">\r\n                      <Camera className=\"w-20 h-20 text-gray-500 mb-4\" />\r\n                      <p className=\"text-gray-400\">Click Start to begin</p>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {isStreaming && videoRef.current?.readyState !== 4 && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-black/70 z-10\">\r\n                      <div className=\"text-center\">\r\n                        <div className=\"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-3\"></div>\r\n                        <p className=\"text-white\">Initializing camera...</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {isAnalyzing && (\r\n                    <div className=\"absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full text-xs z-20 animate-pulse flex items-center gap-2\">\r\n                      <div className=\"w-2 h-2 bg-white rounded-full animate-ping\"></div>\r\n                      Analyzing...\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {isStreaming && displayData && displayData.faces && displayData.faces.map((face, idx) => {\r\n                    const videoWidth = videoRef.current?.videoWidth || 640;\r\n                    const videoHeight = videoRef.current?.videoHeight || 480;\r\n                    return (\r\n                      <div\r\n                        key={idx}\r\n                        className=\"absolute border-4 rounded transition-all duration-300 z-10\"\r\n                        style={{\r\n                          left: `${100 - ((face.x + face.width) / videoWidth) * 100}%`,\r\n                          top: `${(face.y / videoHeight) * 100}%`,\r\n                          width: `${(face.width / videoWidth) * 100}%`,\r\n                          height: `${(face.height / videoHeight) * 100}%`,\r\n                          borderColor: dominantColor,\r\n                          boxShadow: `0 0 20px ${dominantColor}`,\r\n                        }}\r\n                      />\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n              \r\n              <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n              \r\n              <div className=\"flex gap-3\">\r\n                {!isStreaming ? (\r\n                  <button\r\n                    onClick={startWebcam}\r\n                    disabled={apiStatus === 'error'}\r\n                    className=\"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 disabled:from-gray-600 disabled:to-gray-700 disabled:cursor-not-allowed px-6 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all\"\r\n                  >\r\n                    <Camera className=\"w-5 h-5\" />\r\n                    Start Detection\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={stopWebcam}\r\n                    className=\"flex-1 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 px-6 py-3 rounded-lg font-semibold transition-all\"\r\n                  >\r\n                    Stop Detection\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              {error && (\r\n                <div className=\"mt-4 bg-red-500/20 border border-red-500 rounded-lg p-4 flex items-start gap-3\">\r\n                  <AlertCircle className=\"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5\" />\r\n                  <p className=\"text-sm text-red-200\">{error}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/10\">\r\n              <h3 className=\"text-xl font-semibold mb-4 flex items-center gap-2\">\r\n                <Smile className=\"w-6 h-6\" />\r\n                Current Emotion\r\n              </h3>\r\n              \r\n              {displayData ? (\r\n                <div className=\"text-center\">\r\n                  <div \r\n                    className=\"text-4xl md:text-5xl font-bold mb-2 animate-pulse\"\r\n                    style={{ color: dominantColor }}\r\n                  >\r\n                    {displayData.dominant_emotion.toUpperCase()}\r\n                  </div>\r\n                  <div className=\"flex items-center justify-center gap-2 text-gray-400\">\r\n                    <Users className=\"w-4 h-4\" />\r\n                    <span>{displayData.face_count} face(s) detected</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center text-gray-400 py-8\">\r\n                  <Smile className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n                  <p>Waiting for detection...</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/10\">\r\n              <h3 className=\"text-xl font-semibold mb-4\">Confidence & Nervousness</h3>\r\n              \r\n              {displayData ? (\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <div className=\"flex justify-between text-sm mb-2\">\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <span className=\"text-2xl\"></span>\r\n                        <span className=\"font-semibold\">Confidence</span>\r\n                      </span>\r\n                      <span className=\"font-bold text-green-400\">{metrics.confidence.toFixed(1)}%</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-700 rounded-full h-3\">\r\n                      <div\r\n                        className=\"h-3 rounded-full transition-all duration-500 bg-gradient-to-r from-green-400 to-emerald-500\"\r\n                        style={{ width: `${metrics.confidence}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <div className=\"flex justify-between text-sm mb-2\">\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <span className=\"text-2xl\"></span>\r\n                        <span className=\"font-semibold\">Nervousness</span>\r\n                      </span>\r\n                      <span className=\"font-bold text-orange-400\">{metrics.nervousness.toFixed(1)}%</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-700 rounded-full h-3\">\r\n                      <div\r\n                        className=\"h-3 rounded-full transition-all duration-500 bg-gradient-to-r from-orange-400 to-red-500\"\r\n                        style={{ width: `${metrics.nervousness}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center text-gray-400 py-8\">\r\n                  <Activity className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n                  <p className=\"text-sm\">Start webcam to see metrics</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"bg-black/40 backdrop-blur-sm rounded-2xl p-6 border border-white/10\">\r\n              <h3 className=\"text-xl font-semibold mb-4\">Emotion Scores</h3>\r\n              \r\n              {displayData && displayData.emotions ? (\r\n                <div className=\"space-y-3\">\r\n                  {Object.entries(displayData.emotions)\r\n                    .sort(([, a], [, b]) => b - a)\r\n                    .map(([emotion, score]) => (\r\n                      <div key={emotion}>\r\n                        <div className=\"flex justify-between text-sm mb-1\">\r\n                          <span className=\"capitalize\">{emotion}</span>\r\n                          <span className=\"font-semibold\">{score.toFixed(1)}%</span>\r\n                        </div>\r\n                        <div className=\"w-full bg-gray-700 rounded-full h-2\">\r\n                          <div\r\n                            className=\"h-2 rounded-full transition-all duration-500\"\r\n                            style={{\r\n                              width: `${score}%`,\r\n                              backgroundColor: emotionColors[emotion] || '#9CA3AF'\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center text-gray-400 py-8\">\r\n                  <div className=\"w-12 h-12 mx-auto mb-2 border-4 border-gray-600 border-t-gray-400 rounded-full animate-spin\"></div>\r\n                  <p className=\"text-sm\">Start webcam to see scores</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-8 bg-black/20 backdrop-blur-sm rounded-2xl p-6 border border-white/10\">\r\n          <h3 className=\"font-semibold mb-3\">How It Works:</h3>\r\n          <ul className=\"list-disc list-inside space-y-2 text-gray-300 text-sm\">\r\n            <li><strong>Start Detection:</strong> Click \"Start Detection\" button and allow camera permissions</li>\r\n            <li><strong>Real-time Analysis:</strong> Emotions detected continuously with 5-frame averaging for stability</li>\r\n            <li><strong>Live Updates:</strong> Smoothed emotion display reduces jitter and improves accuracy</li>\r\n            <li><strong>Best Results:</strong> Face the camera directly with good lighting</li>\r\n            <li><strong>Performance:</strong> Analysis runs 2 times per second for optimal accuracy</li>\r\n            <li><strong>Confidence & Nervousness:</strong> Real-time metrics calculated from your emotional state</li>\r\n            <li><strong>Multiple Emotions:</strong> The system detects 7 emotions: happy, sad, angry, surprise, fear, disgust, and neutral</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}